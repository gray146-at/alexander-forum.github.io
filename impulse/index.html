<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Impulse | Alexander Forum für Reflexion & Resilienz</title>

  <!-- SEO & Meta -->
  <link rel="canonical" href="https://alexander.forum/impulse/">
  <meta name="robots" content="index,follow">
  <meta name="theme-color" content="#0f2a3a">
  <meta name="description" content="Impulse vom Alexander Forum – kurze Essays, Notizen & Hinweise.">

  <!-- Open Graph -->
  <meta property="og:site_name" content="Alexander Forum">
  <meta property="og:url" content="https://alexander.forum/impulse/">
  <meta property="og:title" content="Impulse | Alexander Forum">
  <meta property="og:description" content="Kurze Essays, Notizen & Hinweise aus dem Alexander Forum.">
  <meta property="og:type" content="website">
  <meta property="og:locale" content="de_AT">

  <!-- Icons -->
  <link rel="icon" href="/favicon.svg" type="image/svg+xml">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">

  <!-- Stylesheet (global) -->
  <link rel="stylesheet" href="/styles.css">
</head>
<body>
  <a class="skip" href="#main">Zum Inhalt springen</a>

  <!-- ===== SITE HEADER (identisch zu deinen Seiten) ===== -->
  <header class="site-head" aria-label="Alexander Forum">
    <nav class="mini-nav" aria-label="Hauptnavigation">
      <a href="/">Start</a>
      <div class="nav-dropdown">
        <button class="nav-dropdown-toggle" aria-expanded="false" aria-haspopup="true">
          Über uns
          <span class="dropdown-arrow">▾</span>
        </button>
        <div class="nav-dropdown-menu" role="menu">
          <a href="/ueber-uns/" role="menuitem">Über uns</a>
          <a href="/warum-alexander/" role="menuitem">Warum Alexander?</a>
        </div>
      </div>
      <a href="/#themen">Themen</a>
      <a href="/#arbeitsweise">Arbeitsweise</a>
      <a href="/publikationen/">Publikationen</a>
      <a href="/#kontakt">Kontakt</a>
      <a class="lang" href="/en/" hreflang="en" aria-label="Switch to English">EN</a>
    </nav>
    <button class="mobile-menu-toggle" aria-label="Menü öffnen" aria-expanded="false">
      <span></span><span></span><span></span>
    </button>
  </header>

  <main id="main" class="wrap">
    <section class="card">
      <img class="logo" src="/AF-Logo-final.svg" alt="Alexander Forum – Baum-Signet" width="450" height="120" loading="eager">

      <h1>Impulse</h1>
      <p class="tag">Kurze Essays, Notizen & Hinweise</p>
      <p class="lead">
        Reflexionen und Analysen im laufenden Strom unserer Arbeit. Abonnieren Sie, um neue Beiträge direkt per E-Mail zu erhalten.
      </p>

      <!-- Teaser-Grid (wird via JS aus /impulse/feed.json befüllt) -->
      <div id="impulse-grid" class="inspirations-grid" role="list" aria-label="Impulse">
        <p>Beiträge werden geladen …</p>
      </div>

      <div class="cta-row" style="margin-top: 1rem;">
        <a class="btn" href="https://alexanderforum.substack.com/archive" target="_blank" rel="noopener">Alle Beiträge (Archiv)</a>
        <a class="btn btn-secondary" href="https://alexanderforum.substack.com/subscribe" target="_blank" rel="noopener">Newsletter abonnieren</a>
      </div>
    </section>

    <footer class="foot">
      <p>© 2025 Alexander Forum für Reflexion & Resilienz. Alle Rechte vorbehalten.</p>
    </footer>
  </main>

  <!-- ===== JS: Feed laden + Mobile-Menü + Dropdown ===== -->
  <script>
  // 1) Substack-Feed laden (aus GitHub-Action erzeugtem JSON)
  (async () => {
    const FEED = '/impulse/feed.json';
    const grid = document.getElementById('impulse-grid');
    try{
      const res = await fetch(FEED, {cache:'no-store'});
      const data = await res.json();
      const items = (data.items || []).slice(0, 10);

      if(!items.length){ grid.innerHTML = '<p>Keine Einträge gefunden.</p>'; return; }

      grid.innerHTML = '';
      items.forEach((p) => {
        const art = document.createElement('article');
        art.className = 'inspiration-card';  // nutzt eure Card-Optik
        art.setAttribute('role','listitem');

        const date = new Date(p.date_published || p.date || Date.now())
          .toLocaleDateString('de-AT',{year:'numeric',month:'short',day:'2-digit'});
        const img = p.image || (p._images && p._images[0]) || '';

        art.innerHTML = `
          ${img ? `<img class="cover" src="${img}" alt="" loading="lazy">` : ``}
          <div class="body">
            <h3>${p.title || 'Ohne Titel'}</h3>
            <p class="tagline">${date}</p>
            <p class="short">${(p.summary || p.content_text || '').replace(/(<([^>]+)>)/gi,'').slice(0,220)}&hellip;</p>
            <div class="cta-row">
              <a class="btn" href="${p.url}" target="_blank" rel="noopener">Weiterlesen</a>
            </div>
          </div>
        `;
        grid.appendChild(art);
      });
    } catch(err){
      console.error(err);
      grid.innerHTML = '<p>Feed momentan nicht erreichbar.</p>';
    }
  })();

  // 2) Mobile-Menü (kompatibel zu deinen Klassen)
  (function(){
    const toggle = document.querySelector('.mobile-menu-toggle');
    const nav = document.querySelector('.mini-nav');
    if(!toggle || !nav) return;

    toggle.addEventListener('click', () => {
      const open = nav.classList.toggle('mobile-open');
      toggle.classList.toggle('active', open);
      toggle.setAttribute('aria-expanded', open ? 'true' : 'false');
      document.body.style.overflow = open ? 'hidden' : '';
    });

    window.addEventListener('resize', () => {
      if(window.innerWidth > 900 && nav.classList.contains('mobile-open')){
        nav.classList.remove('mobile-open');
        toggle.classList.remove('active');
        toggle.setAttribute('aria-expanded','false');
        document.body.style.overflow = '';
      }
    });
  })();

  // 3) Dropdown „Über uns“
  (function(){
    document.querySelectorAll('.nav-dropdown').forEach(drop => {
      const btn = drop.querySelector('.nav-dropdown-toggle');
      const menu = drop.querySelector('.nav-dropdown-menu');
      if(!btn || !menu) return;

      btn.addEventListener('click', () => {
        const open = menu.classList.toggle('active');
        btn.setAttribute('aria-expanded', open ? 'true' : 'false');
      });

      document.addEventListener('click', (e) => {
        if(!drop.contains(e.target) && menu.classList.contains('active')){
          menu.classList.remove('active');
          btn.setAttribute('aria-expanded','false');
        }
      });
    });
  })();
  </script>

  <noscript>
    <p style="text-align:center;margin:1rem 0">
      JavaScript ist deaktiviert. <a href="https://alexanderforum.substack.com/archive" target="_blank" rel="noopener">Zum Impulse-Archiv</a>.
    </p>
  </noscript>
</body>
</html>
